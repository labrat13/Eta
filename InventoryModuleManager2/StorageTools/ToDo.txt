Список дел по проекту

18 ноября 2018
- инициализация проекта.

-------------------------------------------------------------------
Что нужно реализовать здесь:
- Создание структуры каталогов по структуре классов Хранилища
- Групповое добавление книг в указанное Хранилище.
  - книги должны быть форматированы в соответствии с установленным требованиями
  + сделано, тестировалось.
    - диалог свойств документа аляповат, надо бы переделать или совместить с формой карточки Сущности из StorageSearch ?
    - есть ошибка движка из-за почти одинаковых имен файлов
    - если при работе возникает ошибка, надо заново все начинать. Поэтому добавление надо делать в копию Хранилища, а не в основное Хранилище сразу.
      Чтобы можно было откатиться к старой версии Хранилища и начать все заново.
    - после успешного добавления хорошо бы проверить Хранилище, но этой функции еще нет у меня. Надо ее сделать.
    - если категорию не указать, в движке возникает ошибка. Надо это в коде приложения обработать.   
- Групповое добавление даташитов в указанное Хранилище
  - даташиты должны быть форматированы в соответствии с установленным требованиями
  + сделано, тестировалось.
  - добавлен флаг Boolean showDialog - Показывать диалог свойств Сущности - показывать диалог для каждого документа или автоматически обрабатывать всю кучу файлов.
    Для даташитов - я устал тыкать в ОК на форме 1600 раз подряд.
    - он локальный сейчас. Хорошо бы сделать его глобальным и вынести в Настройки программы. Чтобы пользователь мог его конфигурировать.
      Или через гуй включать и выключать.
- надо список расширений файлов вынести в НастройкиПрограммы, чтобы пользователь мог их изменять для своей ситуации.      
- Просмотр и изменение свойств существующего Хранилища
- Тестирование целостности Хранилища, в том числе, файлов.
  + сделано, тестировалось.
  - но показывает только первую ошибку.
  - и выводит не как неисправный файл, а как возникшее исключение 
    - надо правильно представить пользователю неисправность в Хранилище.
- получение списка классов в Хранилище и их мощности (количества объектов этого класса)
  - в виде ксв-файла, сортировать по алфавиту.
- Определение, есть ли уже такой файл в Хранилище
  - для документов
  - для изображений 

Часть этих функций уже реализованы в ExtractEntityTypes и ZipArchiveBookChecker и OtherConverters 
 и RemoveExistingDatasheets и CreateFoldersByClasses проектах. 
 Их надо удалить из солюшена по окончании работ над утилитой.
 А то слишком много этих временных проектов в солюшене стало.

19 ноября 2018
- сделано несколько функций, протестированы, выявлены ошибки в движке.
- я добавил книги в хранилища, создал новые Хранилища, протестировал все хранилища.
- проверку хранилищ надо бы переделать:
  Сейчас Хранилище проверяется одно, это неудобно вручную проверять все хранилища
  И файлы внутри Хранилища проверяются последовательно.
  Если в каком-то файле ошибка, вся проверка Хранилища прерывается. Это неудобно.
  - проверять папку с кучей Хранилищ
  - каждое хранилище проверять отдельно: ОК или есть ошибки
  - каждый файл проверять независимо от других.
    Если он исправен, не выводить результат.
    Если неисправен, вывести его путь в хранилище.
  - это надо сначала собрать список папок Хранилищ - проверить что папка - Хранилище.
    Потом собрать список файлов в хранилище.
    Потом по этому списку каждый файл извлекать и проверять отдельно.  
 
16 апреля 2019
- добавил два конвертера книг и даташитов в хранилища. Даташиты могут быть перечислены в названии через пробел, а книги - нормально.
 Поэтому два разных конвертера нужно. 
- Вообще, с этими конвертерами - беда. Их на каждый случай не напишешься, и сюда их добавлять - вредно для проекта.
  Надо что-то придумать, чтобы код этих разных конвертеров выносить в другие проекты, а тут этого безобразия не было.
  Так как оно увеличивает бардак в проекте и это опасно для проекта.
  - Можно сделать класс-шаблон приложения для таких конвертеров разных, и предлагать себе им реализовывать конвертеры.
        
15:35 26.05.2021
1. Фича Уведомлять о дубликате
На форме свойств книги при добавлении книги в Хранилище показывать надпись о наличии данного файла в хранилище.
Чтобы пользователь сам решал, добавлять или нет.
- а если галочка автодобавления установлена, то добавлять несмотря на наличие дубликата.
2. Процесс - проверять наличие таких книг в Хранилищах перед добавлением книг в Хранилища.
Оформить как пункт меню.
Указать каталог с книгами и каталог Хранилищ и получить на выходе список файлов книг, которые уже есть в Хранилищах.
- смысла мало: дубликаты не добавляются в Хранилища, только новые записи в БД Хранилища добавляются. Записи занимают мало места, а вот описания и классы - хз где они лучше: в старой записи или в новой. Это надо вручную разбираться потом, сопоставляя записи о дубликатах.
Так что решено пока добавлять в Хранилища все что, следует добавить.
Вывод: процесс не востребован сейчас.
3. Процесс - выявление дубликатов внутри Хранилища и во всех Хранилищах, выбор лучшей версии данных и удаление излишних данных и особенно - дублирующихся файлов из разных Хранилищ.
- это полезный процесс, хотя пока не необходимый, его надо бы реализовать.
4. Во все процедуры добавления файлов в Хранилища следует добавить индикатор прогресса
или хотя бы фразу 100 из 100 в сообщении лога: 
Добавлен автоматически (128 из 256): путь файла
5. Еще есть фичи в файлах описания в каталоге проекта.
